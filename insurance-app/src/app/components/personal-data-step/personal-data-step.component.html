<div class="personal-data-step">
  <h3>Personal Data</h3>
  <p class="step-description">Enter your personal data. All fields are required.</p>

  <form [formGroup]="personalDataForm" class="personal-data-form">
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>First Name</mat-label>
        <input matInput 
               formControlName="firstName" 
               placeholder="Enter first name"
               maxlength="50">
        <mat-error>{{ getErrorMessage('firstName') }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Last Name</mat-label>
        <input matInput 
               formControlName="lastName" 
               placeholder="Enter last name"
               maxlength="50">
        <mat-error>{{ getErrorMessage('lastName') }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>PESEL</mat-label>
        <input matInput 
               formControlName="pesel" 
               placeholder="Enter PESEL number"
               maxlength="11"
               pattern="[0-9]*">
        <mat-hint>11-digit PESEL number</mat-hint>
        <mat-error>{{ getErrorMessage('pesel') }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email Address</mat-label>
        <input matInput 
               type="email"
               formControlName="email" 
               placeholder="example@email.com">
        <mat-error>{{ getErrorMessage('email') }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field full-width">
        <mat-label>Phone Number</mat-label>
        <input matInput 
               type="tel"
               formControlName="phone" 
               placeholder="+48 123 456 789">
        <mat-hint>Format: +48 123 456 789 or 123456789</mat-hint>
        <mat-error>{{ getErrorMessage('phone') }}</mat-error>
      </mat-form-field>
    </div>
  </form>

  <div class="form-status" *ngIf="personalDataForm.invalid && personalDataForm.touched">
    <mat-icon class="warning-icon">warning</mat-icon>
    <span>Complete all required fields to proceed</span>
  </div>

  <div class="form-status success" *ngIf="personalDataForm.valid">
    <mat-icon class="success-icon">check_circle</mat-icon>
    <span>All data has been entered correctly</span>
  </div>
</div>